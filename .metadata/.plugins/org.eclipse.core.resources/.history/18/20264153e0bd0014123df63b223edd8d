package main;
import org.json.simple.*;
import org.json.simple.parser.JSONParser;

import com.sun.org.apache.xerces.internal.impl.xpath.regex.ParseException;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStreamReader;

import javafx.animation.Animation;
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.CategoryAxis;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.stage.Stage;
import javafx.util.Duration;
public class RunVisualizer {
    
//    final static String itemA = "A";
//    final static String itemB = "B";
//    final static String itemC = "F";
//    @Override
//    public void start(Stage stage) {
//        final NumberAxis xAxis = new NumberAxis();
//        final CategoryAxis yAxis = new CategoryAxis();
//        final BarChart<Number, String> bc = new BarChart<Number, String>(xAxis, yAxis);
//        bc.setTitle("Summary");
//        xAxis.setLabel("Value");
//        xAxis.setTickLabelRotation(90);
//        yAxis.setLabel("Item");
//
//        XYChart.Series series1 = new XYChart.Series();
//        series1.setName("2003");
//        series1.getData().add(new XYChart.Data(2, itemA));
//        series1.getData().add(new XYChart.Data(20, itemB));
//        series1.getData().add(new XYChart.Data(10, itemC));
//
//        XYChart.Series series2 = new XYChart.Series();
//        series2.setName("2004");
//        series2.getData().add(new XYChart.Data(50, itemA));
//        series2.getData().add(new XYChart.Data(41, itemB));
//        series2.getData().add(new XYChart.Data(45, itemC));
//
//        XYChart.Series series3 = new XYChart.Series();
//        series3.setName("2005");
//        series3.getData().add(new XYChart.Data(45, itemA));
//        series3.getData().add(new XYChart.Data(44, itemB));
//        series3.getData().add(new XYChart.Data(18, itemC));
//
//        Timeline tl = new Timeline();
//        tl.getKeyFrames().add(new KeyFrame(Duration.millis(500), 
//            new EventHandler<ActionEvent>() {
//                @Override public void handle(ActionEvent actionEvent) {
//                for (XYChart.Series<Number, String> series : bc.getData()) {
//                    for (XYChart.Data<Number, String> data : series.getData()) {
//                        data.setXValue(Math.random() * 100);
//                    }
//                }
//            }
//        }));
//        tl.setCycleCount(Animation.INDEFINITE);
//        tl.play();
//
//        Scene scene = new Scene(bc, 800, 600);
//        bc.getData().addAll(series1, series2, series3);
//        stage.setScene(scene);
//        stage.show();
//    }

	 public static void main(String[] args)
	    {        
	        readJsonFile();
	    }

	    public static void readJsonFile() {

	        BufferedReader br = null;
	        JSONParser parser = new JSONParser();

	        try {

	            String sCurrentLine;

	            br = new BufferedReader(new InputStreamReader(System.in));

	            while ((sCurrentLine = br.readLine()) != null) {
	                System.out.println("Record:\t" + sCurrentLine);

	                Object obj;
	                try {
	                	
	                	
	                    obj = parser.parse(sCurrentLine);
	                    JSONObject jsonObject = (JSONObject) obj;
	                    
	                    String rel = (String) jsonObject.get("rel");
	                    System.out.println(rel);

	                    String start = (String) jsonObject.get("start");
	                    System.out.println(start);

	                    String end = (String) jsonObject.get("end");
	                    System.out.println(end);

	                } catch (ParseException e) {
	                    // TODO Auto-generated catch block
	                    e.printStackTrace();
	                }
	            }

	        } catch (IOException e) {
	            e.printStackTrace();
	        } finally {
	            try {
	                if (br != null)br.close();
	            } catch (IOException ex) {
	                ex.printStackTrace();
	            }
	        }
	    }
    	
    }
}